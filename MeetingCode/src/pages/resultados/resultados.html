<!--
  Generated template for the ResultadosPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Resultados</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-list>
    <!-- Este div externo es temporal -->
    <div *ngIf="this.query != null">
      <div *ngFor="let item of proyectos">
        <button ion-item
          *ngIf="item.nombre.toLowerCase().search(this.query.toLowerCase()) != -1 || item.descripcion.toLowerCase().search(this.query.toLowerCase()) != -1"
          (click)="irProyecto(item.key)">
          <ion-avatar item-left><img class="projectLogo" src="{{item.foto}}"></ion-avatar>
          <ion-label text-wrap>
            <h2>{{item.nombre}}</h2>
            <p>{{item.descripcion.substring(0,100) + "..."}}</p>
          </ion-label>
        </button>
      </div>
    </div>
    <div *ngIf="this.tipo != null">
      <div *ngFor="let item of proyectos">
        <button ion-item *ngIf="item.tipo==tipo" (click)="irProyecto(item.key)">
          <ion-avatar item-left><img class="projectLogo" src="{{item.foto}}"></ion-avatar>
          <ion-label text-wrap>
            <h2>{{item.nombre}}</h2>
            <p>{{item.descripcion.substring(0,100) + "..."}}</p>
          </ion-label>
        </button>
      </div>
    </div>
  </ion-list>
</ion-content>